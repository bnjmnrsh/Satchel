/* ! @preserve @bnjmnrsh/satchel v0.2.0 | (c) 2022 bnjmnrsh | ISC | https://github.com/bnjmnrsh/satchel */
function e(e={}){e={...{action:null,pocket:null,remainingPocketKeys:null,startingPocketKeys:null,remainingKeysInStore:null,storageArea:null,url:String(window.location.href)},...e};const t=new CustomEvent("Satchel",{bubbles:!0,cancelable:!0,detail:e});return document.dispatchEvent(t)}function t(e){return e===window.localStorage?"LocalStorage":"SessionStorage"}function n(e=!1,t="pocket",n="stcl"){const o=e?window.localStorage:window.sessionStorage,r=Object.keys(o).map((e=>e.startsWith(n+"."+t)?e:"")).filter((e=>e));return Array.from(r)}function o(o=!1,r="pocket",i="stcl"){const c=o?window.localStorage:window.sessionStorage,l=n(o,r);if(!l.length)return null;Object.keys(l).forEach((e=>{const t=JSON.parse(c.getItem(l[e])).expiry;if(!t||t-Date.now()>0)return null;c.removeItem(l[e])}));const a=n(o,r);return e({action:"tidyPocket",pocket:String(r),remainingPocketKeys:n(o,r).length,startingPocketKeys:Number(l.length),remainingKeysInStore:Number(c.length),storageArea:String(t(c))}),[a.length,c.length]}function r(o=!1,r="pocket",i="stcl"){const c=o?window.localStorage:window.sessionStorage,l=n(o,r);Object.keys(l).forEach((e=>{c.removeItem(l[e])}));const a=n(o,r);return e({action:"emptyPocket",pocket:String(r),remainingPocketKeys:Number(a.length),startingPocketKeys:Number(l.length),remainingKeysInStore:Number(c.length),storageArea:String(t(c))}),[a.length,c.length]}export{r as emptyPocket,n as getAllPocketKeys,o as tidyPocket};
//# sourceMappingURL=bindle.min.js.map
