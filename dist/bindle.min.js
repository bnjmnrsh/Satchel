/* ! @preserve @bnjmnrsh/satchel v0.2.1 | (c) 2022 bnjmnrsh | ISC | https://github.com/bnjmnrsh/satchel */
function e(e={}){e={...{action:null,pocket:null,remainingPocketKeys:null,startingPocketKeys:null,remainingKeysInStore:null,storageArea:null,url:window.location.href},...e};const t=new CustomEvent("Satchel",{bubbles:!0,cancelable:!0,detail:e});return document.dispatchEvent(t)}function t(e){return e===window.localStorage?"LocalStorage":"SessionStorage"}function n(e=!1,t="pocket",n="stcl"){const o=e?window.localStorage:window.sessionStorage,r=Object.keys(o).map((e=>e.startsWith(n+"."+t)?e:"")).filter((e=>e));return Array.from(r)}function o(o=!1,r="pocket",l="stcl"){const c=o?window.localStorage:window.sessionStorage,a=n(o,r,l);return a.length?(Object.keys(a).forEach((e=>{const t=JSON.parse(c.getItem(a[e])).expiry;if(!t||t-Date.now()>0)return null;c.removeItem(a[e])})),e({action:"tidyPocket",pocket:r,remainingPocketKeys:n(o,r,l).length,remainingKeysInStore:c.length,startingPocketKeys:a.length,storageArea:t(c)}),[n(o,r).length,c.length]):null}function r(o=!1,r="pocket",l="stcl"){const c=o?window.localStorage:window.sessionStorage,a=n(o,r,l);if(!a.length)return null;Object.keys(a).forEach((e=>{c.removeItem(a[e])}));const i=n(o,r,l);return e({action:"emptyPocket",pocket:r,remainingPocketKeys:i.length,remainingKeysInStore:c.length,startingPocketKeys:a.length,storageArea:t(c)}),[i.length,c.length]}export{r as emptyPocket,n as getAllPocketKeys,o as tidyPocket};
//# sourceMappingURL=bindle.min.js.map
